---
title: 视频呈现网络简介
description: 视频呈现网络简介
keywords:
- 视频显示网络 WDK 显示，关于视频呈现网络
- VidPN WDK 显示，关于视频显示网络
- 显示了 WDK 显示的视频显示路径
- 视频显示源 WDK 显示
- 显示的视频面向 WDK 显示
- 显示适配器 presentational 子系统 WDK 视频呈现网络
- presentational 子系统 WDK 视频呈现网络
- 源模式 WDK 视频呈现网络
- 源模式设置 WDK 视频呈现网络
- 目标模式 WDK 视频呈现网络
- 目标模式设置 WDK 视频呈现网络
- 视频输出编解码器 WDK 视频呈现网络
- 编解码器 WDK 视频呈现网络
- CRTC WDK 视频呈现网络
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 09dd3c0309b63936679d3427874c69c9b8e932a5
ms.sourcegitcommit: 418e6617e2a695c9cb4b37b5b60e264760858acd
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/07/2020
ms.locfileid: "96832773"
---
# <a name="introduction-to-video-present-networks"></a>视频呈现网络简介


视频呈现网络 (VidPN) manager，它是 DirectX 图形内核子系统 ( # A0) 的一个组件，负责管理连接到显示适配器的监视器和其他显示设备的集合。 VidPN 管理器的责任包括：

-   响应热插拔和外插的监视器。

-   维护并更新一组可用的显示模式，因为连接的监视器集发生更改。

-   管理显示适配器上呈现表面和视频输出之间的关联;例如，将桌面的视图和扩展克隆到多个监视器。

-   当打开或关闭便携式计算机的盖子时，调整可用显示设备和显示模式集。

-   当便携式计算机插接或断开连接时，调整可用显示设备和显示模式集。

显示适配器上的硬件负责扫描视频内存中呈现的内容，并将其 *显示* 在视频输出上。 *视频呈现网络 (VidPN)* 是显示适配器的 presentational 子系统的软件模型。

显示适配器的 presentational 子系统的关键元素是 (主 surface 链) 和视频输出的视图。 在 VidPN 模型中，视图称为 *视频显示源*，视频输出称为 *视频显示目标*。

*视频显示路径* 是视频显示源与视频显示目标之间的关联。 VidPN 通过维护一组视频显示路径来模拟源和目标之间的关系。 一组路径称为 *VidPN 拓扑*。

请注意，视频显示目标不是监视器 (或其他外部显示设备) 连接到显示适配器。 视频显示目标是视频输出连接器本身。

下图说明了 VidPN。

![演示 (vidpn 的视频显示网络的图示) ](images/vidpn.png)

上图中所示的 VidPN 包含三个视频显示目标： DVI 连接器、HD15 连接器和 S-视频连接器。 VidPN 拓扑由将两个源连接到三个目标的线条表示。 拓扑指定源1连接到 DVI 目标并且源2连接到 HD15 目标和 S 视频目标。 源2上呈现的内容在连接到 HD15 和 S-视频连接器的显示设备上显示为克隆视图。

每个视频显示源都支持一组称为 " *源模式*" 的表面格式。 为了跟踪各种视频现有源支持的源模式，VidPN 维护每个视频显示源的 *源模式集* 。 为特定视频显示源设置的源模式不是静态的;随着拓扑发生更改，它会随拓扑发生变化而变化，并且会根据为其他视频显示源选择的模式进行更改。

此模型的工作方式类似于视频显示目标。 每个视频显示目标都支持一组称为 *目标模式* 的视频信号格式，VidPN 为每个视频显示目标维护 *目标模式集* 。 针对特定视频显示目标设置的目标模式随着拓扑的更改和为其他视频显示目标选择的模式而更改。

### <a name="span-idthe_role_of_the_display_miniport_driverspanspan-idthe_role_of_the_display_miniport_driverspanthe-role-of-the-display-miniport-driver"></a><span id="the_role_of_the_display_miniport_driver"></span><span id="THE_ROLE_OF_THE_DISPLAY_MINIPORT_DRIVER"></span>显示微型端口驱动程序的角色

显示适配器具有一个或多个 *视频输出编解码器* (例如) ，从视频提供的源中读取的一个或多个视频输出编解码器，并将相应的视频信号置于视频显示目标上。 在任意给定时间，视频输出编解码器最多可以从一个视频显示源读取;但是，此编解码器可以向多个视频显示目标 (克隆视图) 提供视频信号。VidPN 管理器自行关注视频现有源与视频显示目标之间的关联，但不考虑视频输出编解码器的角色。 有关从特定视频现有源中读取哪些视频输出编解码器的决策完全受显示微型端口驱动程序的控制。 例如，假设显示适配器有两个视频输出编解码器，并且 VidPN 管理器要求显示微型端口驱动程序实现下图所示的拓扑。

![说明 (vidpn) 拓扑的视频显示网络的示意图](images/vidpntopology.png)

下图显示了显示微型端口驱动程序可以将视频输出编解码器分配给视频显示源的一种方式。

![说明用于实现 (vidpn) 拓扑的视频提供网络的视频编解码器的关系图](images/vidpncodecs1.png)

请注意，上图中 (HD15，S-视频) 的克隆视图由单个 CRTC 处理。 现在，假设不再需要连接到 CRTC 1 的 HD15 输出。 然后，显示微型端口驱动程序可以通过配置视频输出编解码器来实现克隆视图，如下图所示：

![说明视频输出编解码器的替代用法的示意图](images/vidpncodecs2.png)

实现带有两个 CRTCs 的克隆视图具有一些优点，而不是通过一个 CRTC 实现它。 例如，对于两个 CRTCs，HD15 和 S 视频输出可以具有不同的分辨率和刷新速率。

重要的一点是，VidPN 管理器从不知道显示适配器上的视频输出编解码器如何分配给视频显示源和目标。 VidPN 管理器仅知道源和目标之间的关联。 涉及视频输出编解码器的基础复合关联仅对显示微型端口驱动程序是已知的。

 

 





