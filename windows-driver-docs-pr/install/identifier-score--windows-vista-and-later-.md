---
title: 标识符分数
description: 标识符分数
keywords:
- 标识符分数 WDK 设备安装
- 设备标识字符串 WDK，标识符分数驱动程序排名
- 标识符匹配类型评分-WDK 设备安装
- 标识符列表-位置分数 WDK 设备安装
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 6f974e5e9d2fa3d05bd94eb0eb9fa8598dacc90f
ms.sourcegitcommit: 418e6617e2a695c9cb4b37b5b60e264760858acd
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/07/2020
ms.locfileid: "96826811"
---
# <a name="identifier-score"></a>标识符分数


驱动程序级别的格式设置为 0x *SSGGTHHH*，其中 0x *SS* 000000 的值是 [签名分数](signature-score--windows-vista-and-later-.md)，0x00 *GG* 0000 的值是 [功能分数](feature-score--windows-vista-and-later-.md)，0x0000 *THHH* 的值是标识符分数。

标识符分数根据设备的总线驱动程序报告的即插即用 (PnP) [设备标识字符串](device-identification-strings.md) 与驱动程序 inf 文件的 " [**INF *模型* " 部分**](inf-models-section.md) 中指定的相应设备标识字符串之间的匹配类型对驱动程序进行排名。

标识符分数是标识符匹配类型分数和标识符列表位置分数的总和。 标识符匹配类型分数按设备 [硬件 id](hardware-ids.md) 或设备 [兼容 id](compatible-ids.md) 对驱动程序进行排名，使其与 INF *模型* 部分的条目中的硬件 id 或兼容 id 匹配。 在 INF 模型部分的条目中，设备硬件 ID 与硬件 ID 之间的匹配称为硬件 ID 匹配。 匹配，其中至少有一个匹配标识符是兼容 ID，称为兼容 ID 匹配。

对于给定的标识符匹配类型，标识符列表位置分数按照硬件 ID 列表中匹配标识符的位置或设备的兼容 ID 列表以及匹配标识符在 "INF *模型* " 部分的位置中的位置对驱动程序进行排名。 具体而言，每个设备都有一个有序的硬件 Id 列表，以及由设备的总线驱动程序报告的兼容 Id 的排序列表。 标识符在列表中按从最特定到最通用功能的顺序排列。 此外，每个 INF *型号* 部分条目都具有一个硬件 ID 和一个可选的兼容 id 列表，这些 id 按最特定于最常见的功能按顺序列出，如下所示：

```cpp
device-description=install-section-name,hw-id,[compatible-id,...] ...
```

设备标识符列表中的第一个标识符的标识符列表位置分数为0x0000，第二个标识符的标识符列表位置分数为0x0001，依此类推。 由于 INF *模型* 部分条目只包含一个硬件 id，因此此硬件 id 的标识符列表位置分数始终为0x0000。

下面列出了这四种标识符匹配类型的标识符分数，其中 0x0000 *T* 000 的值是标识符匹配类型分数，0x00000 *HHH* 的值为标识符列表位置分数：

-   "INF *模型* " 部分条目中的设备硬件 id 与硬件 id 之间的匹配是最佳类型的标识符匹配。 此类型的匹配称为 *硬件 ID 匹配*。

    标识符匹配类型分数为0x00000000，0x0000 *HHH* 的值是设备硬件 id 列表中匹配硬件 id 的标识符列表位置分数。

    此匹配类型的标识符分数范围为从0x00000000 到0x00000FFF。

    对于这种类型的匹配，值0x00000000 是最佳标识符分数，值0x00000FFF 是最差的标识符分数。

-   "INF *模型* " 部分条目中的设备硬件 ID 与兼容 ID 之间的匹配是第二种最佳标识符类型。 此类型的匹配称为 *兼容 ID 匹配*。

    标识符匹配类型分数为0x00001000，0x00000 *HHH* 的值等于设备硬件 id 列表中匹配硬件 id 的标识符列表位置分数。

    此匹配类型的标识符分数范围从0x00001000 到0x00001FFF。

    对于这种类型的匹配，值0x00001000 是最佳标识符分数，值0x00001FFF 是最差的标识符分数。

-   INF *模型* 部分条目中的设备兼容 ID 与硬件 ID 之间的匹配是第三种最佳标识符匹配类型。 此类型的匹配也称为 *兼容 ID 匹配*。

    标识符匹配类型分数为0x00002000，0x00000 *HHH* 的值等于设备兼容 id 列表中匹配的兼容 id 的标识符列表位置分数。

    此类型标识符匹配范围的标识符分数从0x00002000 到0x00002FFF。

    对于这种类型的匹配，值0x00002000 是最佳标识符分数，值0x00002FFF 是最差的标识符分数。

-   INF *模型* 节条目中的设备兼容 id 与兼容 id 之间的匹配是第四种最佳标识符匹配类型。 此类型的匹配也称为 *兼容 ID 匹配*。 此类型标识符匹配的标识符分数在0x00003000 到0x00003FFF 的范围内，其中：

    -   标识符匹配类型分数为0x3000。
    -   0x0 *HHH* 等于 (*j*  +  *k* \* 0x100) ，其中 *j* 等于匹配设备兼容 id 的标识符列表位置分数， *k* 等于 INF *模型* 部分条目中匹配的兼容 id 的标识符列表位置分数。

    对于这种类型的匹配，值0x00003000 是最佳标识符分数，值0x00003FFF 是最差的标识符分数。

有关驱动程序排名的详细信息，请参阅 [Windows 如何对驱动程序](how-setup-ranks-drivers--windows-vista-and-later-.md)进行排名。

 

 





