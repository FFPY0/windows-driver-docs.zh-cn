---
title: 可配置
description: 可配置
keywords:
- 硬件可配置设备 WDK 内核
- 软件可配置的驱动程序 WDK 内核
- 可配置设备和驱动程序 WDK 内核
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: 37a15b90a7b7383c81ad9c81ad0b27dfe32c47f0
ms.sourcegitcommit: 418e6617e2a695c9cb4b37b5b60e264760858acd
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/07/2020
ms.locfileid: "96833459"
---
# <a name="configurable"></a>可配置





如今的外围设备必须可进行 *硬件配置*，并且其驱动程序必须是 *软件可配置* 的。

如果设备可以接受不同的系统硬件资源（如 i/o 端口号）分配，而无需进行物理修改，则该设备可配置硬件。 例如，如果一组热插拔即插即用磁盘 (RAID) 配置连接到独立磁盘的冗余阵列，则用户在运行系统时可以交换磁盘。 如果设备是硬件可配置的，则其驱动程序不能包含设备硬件资源的硬编码、系统相关的值。

驱动程序在以下情况中是可配置的：

-   它可以动态地接收并更改其设备的硬件资源。

    支持即插即用的驱动程序不包含设备硬件资源的硬编码值，驱动程序也不会轮询设备以确定其资源分配。 相反，系统会将资源动态分配给设备，然后向驱动程序提供资源值。

-   它不会对其驱动程序堆栈中可能位于其上方或下方的其他驱动程序进行假设。

    例如，为磁盘设计较低级别的设备驱动程序必须具有足够的灵活性，以支持多个由多个高级别文件系统驱动程序实现的文件系统（可能在一台计算机上）。

    此外，如果计算机具有足够大的大容量存储容量，则相同的较低级别磁盘驱动程序不得干扰中间驱动程序对容错的支持 (在文件系统中实现为镜像分区、带区集或卷集) 。

PnP 管理器和每个 PnP 硬件总线驱动程序一起工作，为特定类型的 i/o 总线和系统软件提供平台硬件之间的接口。 PnP 管理器生成一个 [设备树](device-tree.md)，其中的节点表示系统上的所有设备，包括总线。 对于每个设备，PnP 管理器将维护两个列表：

-   设备能够使用的 [硬件资源](hardware-resources.md) 的列表。

-   实际分配给设备的硬件资源的列表。

设备驱动程序有助于 PnP 管理器创建这些列表（在注册表中维护）。 在系统中添加和删除设备时，PnP 管理器会根据需要重新分配资源并更新列表。

系统的硬件抽象层 (HAL) 组件，它作为一个动态链接库来实现，负责其他系统组件（包括内核模式驱动程序）所需的某些特定于硬件级别的支持。

 

 




