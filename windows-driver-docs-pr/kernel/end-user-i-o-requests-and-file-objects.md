---
title: 最终用户输入/输出请求和文件对象
description: 最终用户输入/输出请求和文件对象
keywords:
- Irp WDK 内核，最终用户 i/o 请求
- 最终用户 i/o 请求 WDK 内核
- I/o 请求 WDK 内核
- 命名文件对象 WDK 内核
- 文件对象 WDK 内核
- 受保护的子系统 WDK 内核
- 子系统 i/o 请求 WDK 内核
- 用户 i/o 请求 WDK 内核
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: 258051c7cab199f079479a83309e775e984ba573
ms.sourcegitcommit: 418e6617e2a695c9cb4b37b5b60e264760858acd
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/07/2020
ms.locfileid: "96824025"
---
# <a name="end-user-io-requests-and-file-objects"></a>最终用户输入/输出请求和文件对象





内核模式驱动程序由实现已熟悉的编程接口（如 Windows 或 POSIX）的受保护子系统对最终用户隐藏。 设备对用户模式代码可见，其中包括受保护的子系统，只是由 i/o 管理器控制的命名文件对象。

下图说明了最终用户、子系统和 i/o 管理器之间的这一关系。

![说明表示文件、卷和设备的文件对象的关系图](images/2grsover.png)

受保护的子系统（如 Win32 子系统）通过 i/o 系统服务将 i/o 请求传递到相应的内核模式驱动程序。 上图中显示的子系统依赖于显示、视频适配器、键盘和鼠标设备驱动程序的支持。

受保护的子系统使其最终用户和应用程序不必知道有关内核模式组件（包括驱动程序）的任何信息。 相反，i/o 管理器使受保护的子系统无需知道有关计算机特定设备配置或驱动程序实现的任何内容。

I/o 管理器的分层方法还使大多数驱动程序不需要知道以下内容：

-   I/o 请求是否源自任何特定受保护的子系统，如 Win32 或 POSIX

-   给定的受保护子系统是否有特定类型的用户模式驱动程序

-   什么是受保护的子系统的 i/o 模型和驱动程序的接口

I/o 管理器为驱动程序提供了一个单一 i/o 模型，一组内核模式支持例程，驱动程序可以使用这些例程来执行 i/o 操作，并在 i/o 请求的发起方与必须对其做出响应的驱动程序之间建立一致的接口。

如上图所示，子系统及其本机应用程序只能通过 i/o 管理器提供的文件对象句柄访问驱动程序的设备或大容量存储设备上的文件。 若要打开此类文件对象或获取设备或数据文件的 i/o 句柄，子系统将使用请求打开命名文件来调用 i/o 系统服务。 命名文件可以具有特定于子系统的别名 (符号链接) 到 file 对象的内核模式名称。

导出这些系统服务的 i/o 管理器负责查找或创建表示设备或数据文件的文件对象，并负责查找)  (的相应驱动程序。

 

 




