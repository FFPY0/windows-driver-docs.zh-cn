---
title: 电源管理支持
description: 电源管理支持
keywords:
- 电源管理 WDK 内核，支持要求
- 电源管理 WDK 内核，关于电源管理
- PnP WDK 电源管理
- 即插即用 WDK 电源管理
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: 2d3d0e995255225826cb3e1459708f309afaa86d
ms.sourcegitcommit: 418e6617e2a695c9cb4b37b5b60e264760858acd
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/07/2020
ms.locfileid: "96840325"
---
# <a name="support-for-power-management"></a>电源管理支持





要支持电源管理，驱动程序还必须支持 (PnP) [即插即用](introduction-to-plug-and-play.md) 。 需要为 PnP 提供驱动程序支持，因为许多电源管理操作与安装和删除设备关联，PnP 管理器通过 PnP Irp 通知这些事件的驱动程序。 此外，驱动程序报表设备支持电源管理，以响应设备功能的 PnP 查询。

电源管理在两个级别上工作：一个适用于单个设备，另一个适用于系统整体。

电源管理器是操作系统内核的一部分，它管理整个系统的电源级别。 如果系统中的所有驱动程序都支持电源管理，则电源管理器可以在整个系统范围内管理功率消耗，不仅可以利用完全打开和完全关闭状态，还能利用各种中间系统睡眠状态。

在操作系统支持的电源管理之前编写的旧驱动程序将继续像以前一样工作。 但是，包含旧驱动程序的系统无法进入任何中间系统睡眠状态;它们只能在完全打开或完全关闭状态下操作，就像以前一样。

设备电源管理适用于单个设备。 支持电源管理的驱动程序可以在需要时将其设备打开并在不使用时将其关闭。 具有硬件功能的设备可以进入中间设备电源状态。 系统中存在旧驱动程序不会影响更新的驱动程序管理其设备功能的能力。

从 Windows Vista 开始，操作系统还支持驱动程序性能状态。 支持设备性能状态的驱动程序可以选择权衡性能或功能，同时降低功率消耗。 Windows Vista 为设备提供了一个框架，用于检索电源设置和有关系统电源状态的信息。 此机制是可扩展的，允许驱动程序供应商为其设备定义和安装新的自定义电源设置。 有关详细信息，请参阅 [系统电源策略](system-power-policy.md)。

 

 




