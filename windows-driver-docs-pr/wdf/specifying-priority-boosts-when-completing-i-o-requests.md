---
title: 完成 I/O 请求时指定优先级提升
description: 完成 I/O 请求时指定优先级提升
keywords:
- 请求处理 WDK KMDF，优先级提升
- 优先级提升 WDK KMDF
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 852a4d920eb74e6aadac8c123cf7f18d213e8efc
ms.sourcegitcommit: 418e6617e2a695c9cb4b37b5b60e264760858acd
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/07/2020
ms.locfileid: "96821137"
---
# <a name="specifying-priority-boosts-when-completing-io-requests"></a>完成 I/O 请求时指定优先级提升


当驱动程序完成 i/o 请求时，它可以调用 [**WdfRequestCompleteWithPriorityBoost**](/windows-hardware/drivers/ddi/wdfrequest/nf-wdfrequest-wdfrequestcompletewithpriorityboost) 来指定一个值，系统使用该值来提升请求 i/o 操作的线程的运行时优先级。

如果驱动程序调用 [**WdfRequestComplete**](/windows-hardware/drivers/ddi/wdfrequest/nf-wdfrequest-wdfrequestcomplete) 或 [**WdfRequestCompleteWithInformation**](/windows-hardware/drivers/ddi/wdfrequest/nf-wdfrequest-wdfrequestcompletewithinformation) 而不是 [**WdfRequestCompleteWithPriorityBoost**](/windows-hardware/drivers/ddi/wdfrequest/nf-wdfrequest-wdfrequestcompletewithpriorityboost)，则框架将使用基于设备类型的默认优先级提升值。 下表列出了框架使用的默认优先级提升值。 在 *Wdm .h* 中定义了设备类型和优先级提升常数。

|设备类型|默认优先级提升|
|--- |--- |
|FILE_DEVICE_UNDEFINED|IO_NO_INCREMENT|
|FILE_DEVICE_BEEP|IO_NO_INCREMENT|
|FILE_DEVICE_CD_ROM|IO_CD_ROM_INCREMENT|
|FILE_DEVICE_CD_ROM_FILE_SYSTEM|IO_CD_ROM_INCREMENT|
|FILE_DEVICE_CONTROLLER|IO_NO_INCREMENT|
|FILE_DEVICE_DATALINK|IO_NO_INCREMENT|
|FILE_DEVICE_DFS|IO_NO_INCREMENT|
|FILE_DEVICE_DISK|IO_DISK_INCREMENT|
|FILE_DEVICE_DISK_FILE_SYSTEM|IO_DISK_INCREMENT|
|FILE_DEVICE_FILE_SYSTEM|IO_NO_INCREMENT|
|FILE_DEVICE_INPORT_PORT|IO_NO_INCREMENT|
|FILE_DEVICE_KEYBOARD|IO_KEYBOARD_INCREMENT|
|FILE_DEVICE_MAILSLOT|IO_MAILSLOT_INCREMENT|
|FILE_DEVICE_MIDI_IN|IO_SOUND_INCREMENT|
|FILE_DEVICE_MIDI_OUT|IO_SOUND_INCREMENT|
|FILE_DEVICE_MOUSE|IO_MOUSE_INCREMENT|
|FILE_DEVICE_MULTI_UNC_PROVIDER|IO_NO_INCREMENT|
|FILE_DEVICE_NAMED_PIPE|IO_NAMED_PIPE_INCREMENT|
|FILE_DEVICE_NETWORK|IO_NETWORK_INCREMENT|
|FILE_DEVICE_NETWORK_BROWSER|IO_NETWORK_INCREMENT|
|FILE_DEVICE_NETWORK_FILE_SYSTEM|IO_NETWORK_INCREMENT|
|FILE_DEVICE_NULL|IO_NO_INCREMENT|
|FILE_DEVICE_PARALLEL_PORT|IO_PARALLEL_INCREMENT|
|FILE_DEVICE_PHYSICAL_NETCARD|IO_NETWORK_INCREMENT|
|FILE_DEVICE_PRINTER|IO_NO_INCREMENT|
|FILE_DEVICE_SCANNER|IO_NO_INCREMENT|
|FILE_DEVICE_SERIAL_MOUSE_PORT|IO_SERIAL_INCREMENT|
|FILE_DEVICE_SERIAL_PORT|IO_SERIAL_INCREMENT|
|FILE_DEVICE_SCREEN|IO_VIDEO_INCREMENT|
|FILE_DEVICE_SOUND|IO_SOUND_INCREMENT|
|FILE_DEVICE_STREAMS|IO_SOUND_INCREMENT|
|FILE_DEVICE_TAPE|IO_NO_INCREMENT|
|FILE_DEVICE_TAPE_FILE_SYSTEM|IO_NO_INCREMENT|
|FILE_DEVICE_TRANSPORT|IO_NO_INCREMENT|
|FILE_DEVICE_UNKNOWN|IO_NO_INCREMENT|
|FILE_DEVICE_VIDEO|IO_VIDEO_INCREMENT|
|FILE_DEVICE_VIRTUAL_DISK|IO_DISK_INCREMENT|
|FILE_DEVICE_WAVE_IN|IO_SOUND_INCREMENT|
|FILE_DEVICE_WAVE_OUT|IO_SOUND_INCREMENT|
|FILE_DEVICE_8042_PORT|IO_KEYBOARD_INCREMENT|
|FILE_DEVICE_NETWORK_REDIRECTOR|IO_NETWORK_INCREMENT|
|FILE_DEVICE_BATTERY|IO_NO_INCREMENT|
|FILE_DEVICE_BUS_EXTENDER|IO_NO_INCREMENT|
|FILE_DEVICE_MODEM|IO_SERIAL_INCREMENT|
|FILE_DEVICE_VDM|IO_NO_INCREMENT|
|FILE_DEVICE_MASS_STORAGE|IO_DISK_INCREMENT|
|FILE_DEVICE_SMB|IO_NETWORK_INCREMENT|
|FILE_DEVICE_KS|IO_SOUND_INCREMENT|
|FILE_DEVICE_CHANGER|IO_NO_INCREMENT|
|FILE_DEVICE_SMARTCARD|IO_NO_INCREMENT|
|FILE_DEVICE_ACPI|IO_NO_INCREMENT|
|FILE_DEVICE_DVD|IO_NO_INCREMENT|
|FILE_DEVICE_FULLSCREEN_VIDEO|IO_VIDEO_INCREMENT|
|FILE_DEVICE_DFS_FILE_SYSTEM|IO_NO_INCREMENT|
|FILE_DEVICE_DFS_VOLUME|IO_NO_INCREMENT|
|FILE_DEVICE_SERENUM|IO_SERIAL_INCREMENT|
|FILE_DEVICE_TERMSRV|IO_NO_INCREMENT|
|FILE_DEVICE_KSEC|IO_NO_INCREMENT|
|FILE_DEVICE_FIPS|IO_NO_INCREMENT|
|FILE_DEVICE_INFINIBAND|IO_NO_INCREMENT|

 

 

